<!-- 

  incidence_geometry.xml    FinInG package documentation
                                                                   John Bamberg
                                                               and Jan De Beule
                                                                  and Maska Law
                                                             and Michael Pauley
                                                            and Max Neunhoeffer
                                                              and Sven Reichard

  Copyright (C) 2009, University of Western Australia
                      Lehrstuhl D fuer Mathematik
                      Ghent University

This is the chapter of the documentation describing incidence geometry
in general.

-->

<Chapter Label="incidencegeometry">
<Heading>Incidence Geometry</Heading>

The term geometry, or incidence geometry, is interpreted broadly in this package.
The basis for the construction of the objects in this package is an abstract
incidence geometry consisting of elements, types, and an incidence relation. 
To be more specific, an <E>incidence geometry</E> consists of a set of elements
a symmetric relation on the elements and a type function from the set of
elements to an index set (i.e., every element has a ``type''). There are two axioms: 
(i) no two elements of the same type are incident; (ii) every maximal flag contains
an element of each type. Thus, a projective 5-space is an incidence geometry
with five types of elements; points, lines, planes, solids, and hyperplanes.<P/>

<Package>FinInG</Package> concerns itself primarily with the most
commonly studied incidence geometries of rank more than 2: projective spaces,
polar spaces, and affine spaces. However, some facility with generalised polygons
has been included. Throughout, no matter the geometry, we have made the convention that
an element of type 1 is a ``point'', an element of type 2 is a ``line'', and so forth.
The examples we use in this section use projective spaces, which have not introduced the 
reader to yet in this manual. For further information on projective spaces,
see Chapter <Ref Chap="projectivepolar"/>.<P/>

probably more detailed information is needed here. E.g. we start to explain Incidence Geometry, but
suddenly, we talk about Incidence Structures in the next sections. Not clear at all if we mean
the same thing or not, and, we have Incidence Geometries *and* Incidence Structures in this
package. 

Essentially, in this chapter we describe functionality that is <B>declared</B> for 
incidence structures, which does not imply that operations described here will work
for arbitrarily user constructed incidence geometries. 

<Section>
<Heading>Incidence structures</Heading>
particular and general examples of incidence structures. Show categorie graph?

<ManSection>
<Filt Name="IsIncidenceStructure" Type="Category"/>
<Description>
General Top level category for all objects representing an incidence structure.
<F>IsIncidenceStructure</F>. 
</Description>
</ManSection>

<ManSection>
<Filt Name="IsIncidenceGeometry" Type="Category"/>
<Description>
General category for all objects representing an incidence geometry.
</Description>
</ManSection>

Lie Geometries, i.e. geometries with a projective space as ambient geometry, affine spaces and 
generalised polygons have their category, as a subcategory of <C>IsIncidenceGeometry</C>.
<ManSection>
<Heading>Main categories in <C>IsIncidenceGeometry</C></Heading>
<Filt Name="IsLieGeometry" Type="Category"/>
<Filt Name="IsAffineSpace" Type="Category"/>
<Filt Name="IsGeneralisedPolygon" Type="Category"/>
</ManSection>

<ManSection>
<Heading>Main categories in <C>IsLieGeometry</C></Heading>
<Filt Name="IsProjectiveSpace" Type="Category"/>
<Filt Name="IsClassicalPolarSpace" Type="Category"/>
<Description>
Lie geometries bundle projective spaces and classical polar spaces. Both classes of geometries 
have their category, as a subcategory of <C>IsLieGeometry</C>.
</Description>
</ManSection>


The following categories for geometries are not considered as main categories.
<ManSection>
<Heading>Categories in <C>IsGeneralisedPolygon</C></Heading>
<Filt Name="IsGeneralisedQuadrangle" Type="Category"/>
<Filt Name="IsGeneralisedHexagon" Type="Category"/>
<Filt Name="IsGeneralisedOctogon" Type="Category"/>
<Description>
Within <C>IsGeneralisedPolygon</C>, categories are declared for generalised quadrangles,
generalised hexagons, and generalised octogons.
</Description>
</ManSection>

<ManSection>
<Filt Name="IsElationGQ" Type="Category"/>
<Description>
Within <C>IsGeneralisedQuadrangle</C>, this category is declared to construct 
elation generalised quadrangles.
</Description>
</ManSection>

<ManSection>
<Filt Name="IsClassicalGQ" Type="Category"/>
<Description>
This category lies in <C>IsElationGQ</C> and <C>IsClassicalPolarSpace</C>.
</Description>
</ManSection>

<ManSection>
<Heading>Examples of categories of incidence geometries</Heading>
<Description>
<Example>
<#Include SYSTEM "../examples/include/incgeom_categories1.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="TypesOfElementsOfIncidenceStructure" Arg="ig"/>
<Oper Name="TypesOfElementsOfIncidenceStructurePlural" Arg="ig"/>
<Returns>a list of strings</Returns>
<Description>
Any incidence structure contains elements of a set of types. Names can be 
given to an element of each type, and this operation returns the names for the
particular <A>ig</A>. The second variant returs the list of plurals of these names.
<Example>
<#Include SYSTEM "../examples/include/incgeom_typesofels.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="Rank" Arg="ig"/>
<Returns>rank of <A>ig</A></Returns>
<Description>
<Example>
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="AmbientGeometry" Arg="ig"/>
<Returns></Returns>
<Description>
<Example>
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="AmbientSpace" Arg="ig"/>
<Returns></Returns>
<Description>
<Example>
</Example>
</Description>
</ManSection>


<ManSection>
<Oper Name="IsIncident" Arg="ig"/>
<Returns></Returns>
<Description>
<Example>
</Example>
</Description>
</ManSection>

</Section>

<Section>
<Heading>Elements of incidence structures</Heading>

<ManSection>
<Heading>Main categories for individual elements of incidence structures</Heading>
<Filt Name="IsElementOfIncidenceStructure" Type="Category"/>
<Filt Name="IsElementOfIncidenceGeometry" Type="Category"/>
<Filt Name="IsElementOfLieGeometry" Type="Category"/>
<Filt Name="IsElementOfAffineSpace" Type="Category"/>
<Filt Name="IsSubspaceOfProjectiveSpace" Type="Category"/>
<Filt Name="IsSubspaceOfClassicalPolarSpace" Type="Category"/>
<Description>
In <Package>FinInG</Package> a category for the indidual elements of an incidence structure
in a category <C>IsIncStr</C> is declared and named <C>IsElementOfIncStr</C>. The inclusion for
different categories of geometries is followed for their elements, except for <C>IsSubspaceOfClassicalPolarSpace</C>,
which is a subcategory of <C>IsSubspaceOfProjectiveSpace</C>, while <C>IsClassicalPolarSpace</C> is not a subcategory of
<C>IsProjectiveSpace</C>. The reasons for this construction are obvious.
<Example>
<#Include SYSTEM "../examples/include/incgeom_categories2.include"> 
</Example>
</Description>
</ManSection>


<ManSection>
<Heading>Main categories for collections of elements of incidence structures</Heading>
<Filt Name="IsElementsOfIncidenceStructure" Type="Category"/>
<Filt Name="IsElementsOfIncidenceGeometry" Type="Category"/>
<Filt Name="IsElementsOfLieGeometry" Type="Category"/>
<Filt Name="IsElemenstOfAffineSpace" Type="Category"/>
<Filt Name="IsSubspacesOfProjectiveSpace" Type="Category"/>
<Filt Name="IsSubspacesOfClassicalPolarSpace" Type="Category"/>
<Description>
In <Package>FinInG</Package> for an incidence structure <A>ig</A> in the category <C>IsIncStr</C>, a category
<C>IsElementsOfIncStr</C> is declared for objects representing a set of elements of <A>ig</A>, 
all of the same type. E.g. the set of all elements of a given type of <A>ig</A> will be constructed in
<C>IsElementsOfIncStr</C>. The chain of inclusions for <C>IsElementsOfIncStr</C> follows the chain of inclusions
of <C>IsElementOfIncStr</C>.
<Example>
</Example>
</Description>
</ManSection>



<ManSection>
<Oper Name="ElementsOfIncidenceStructure" Arg="ps"/>
<Oper Name="ElementsOfIncidenceStructure" Arg="ps, j"/>
<Oper Name="ElementsOfIncidenceStructure" Arg="ps, str"/>
<Returns>a list of elements</Returns>
<Description><A>ps</A> must be an incidence geometry. <A>j</A> must be
a type of element of <A>ps</A>. This function returns a list of all elements
of <A>ps</A> of type <A>j</A>. In an alternative form of this function
<A>j</A> can be one of ``points", ``lines", ``planes" or ``solids" and the
function returns the elements of type 1, 2, 3 or 4 respectively.
<Example>
<#Include SYSTEM "../examples/include/incgeom_elementsj.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="Points" Arg="ps"/>
<Returns>a list of elements of type 1</Returns>
<Description><A>ps</A> must be an incidence geometry. 
This function returns a list of all elements
of <A>ps</A> of type 1.
<Example>
<#Include SYSTEM "../examples/include/incgeom_points.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="Lines" Arg="ps"/>
<Returns>a list of elements of type 2</Returns>
<Description><A>ps</A> must be an incidence geometry. 
This function returns a list of all elements
of <A>ps</A> of type 2.
<Example>
<#Include SYSTEM "../examples/include/incgeom_lines.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="Planes" Arg="ps"/>
<Returns>a list of elements of type 3</Returns>
<Description><A>ps</A> must be an incidence geometry. 
This function returns a list of all elements
of <A>ps</A> of type 3.
<Example>
<#Include SYSTEM "../examples/include/incgeom_planes.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="Solids" Arg="ps"/>
<Returns>a list of elements of type 4</Returns>
<Description><A>ps</A> must be an incidence geometry. 
This function returns a list of all elements
of <A>ps</A> of type 4.
<Example>
<#Include SYSTEM "../examples/include/incgeom_solids.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="Hyperplanes" Arg="ps"/>
<Returns>a list of hyerplanes</Returns>
<Description>This function returns a list of all elements
of <A>ps</A> of the maximum type.
<A>ps</A> must be an incidence geometry, but
only methods for projective and affine spaces are installed, since
a ``hyperplane'' has either no, either a completely different meaning
in other geometires than projective and affine spaces.
 This operation is
perhaps more synonomous and better suited when using projective
and affine spaces, however one can also use it for
an arbitrary incidence geometry. 
<Example>
<#Include SYSTEM "../examples/include/incgeom_hyperplanes.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="IsIncident" Arg="u,v"/>
<Returns>Boolean</Returns>
<Description>
<A>u</A> and <A>v</A> must be elements of an incidence structure.
This function returns 
<Example>
<#Include SYSTEM "../examples/include/incgeom_isincident.include"> 
</Example>
</Description>
</ManSection>

</Section>

<Section>
<Heading>Shadows of elements</Heading>

<ManSection>
<Oper Name="ShadowOfElement" Arg="geom, v, j"/>
<Returns> a collection of elements </Returns>
<Description>
<A>geom</A> is an incidence geometry. <A>v</A> must be an element of <A>geom</A>. This function returns a list of all elements of 
<A>geom</A> of type <A>j</A> which are incident with <A>v</A>.
This operation may not be installed for all incidence geometries.
In some case, such as when we are working with objects of
projective or polar spaces, we can just type <C>Points(v)</C> for the
set of points of the ambient geometry incident with <A>v</A>. We
can perform a similar operation with <C>Lines</C>, <C>Planes</C> and
<C>Solids</C>.
<Example>
<#Include SYSTEM "../examples/include/incgeom_shadowofelement.include"> 
</Example>
</Description>
</ManSection>

<ManSection>
<Oper Name="ShadowOfFlag" Arg="geom, v, j"/>
<Returns> a collection of elements </Returns>
<Description>
<A>geom</A> must be aan incidence geometry. <A>v</A> must be a
list of elements of <A>geom</A>.
This function returns
a list of all elements of <A>geom</A> of type <A>j</A> which are incident
with every element of the list. The function assumes that the list <A>v</A>
is a flag; that is, every element of <A>v</A> is incident with every other
element of <A>v</A>. If <A>v</A> is not a flag then the return value
is unspecified. This operation may not be installed for all incidence geometries.
<Example>
<#Include SYSTEM "../examples/include/incgeom_shadowofflag.include"> 
</Example>
</Description>
</ManSection>
</Section>

</Chapter>
